

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Property Status structure &#8212; Anfisa Development&amp;Installation Documentation v.0.6 documentation</title>
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Decision Tree Point descriptor" href="s_dtree_point.html" />
    <link rel="prev" title="Condition descriptor" href="s_condition.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="s_dtree_point.html" title="Decision Tree Point descriptor"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="s_condition.html" title="Condition descriptor"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Anfisa Development&amp;Installation Documentation v.0.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Anfisa REST API</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Property Status structure</a><ul>
<li><a class="reference internal" href="#format">Format</a></li>
<li><a class="reference internal" href="#description">Description</a><ul>
<li><a class="reference internal" href="#variants-for-enumerated-properties">Variants for enumerated properties</a></li>
<li><a class="reference internal" href="#functions-support">Functions support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="s_condition.html"
                        title="previous chapter">Condition descriptor</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="s_dtree_point.html"
                        title="next chapter">Decision Tree Point descriptor</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/rest/s_prop_stat.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="property-status-structure">
<h1>Property Status structure<a class="headerlink" href="#property-status-structure" title="Permalink to this headline">¶</a></h1>
<div class="section" id="format">
<span id="index-0"></span><h2>Format<a class="headerlink" href="#format" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">{</span></code> <em>dictionary</em>,</div>
<div class="line-block">
<div class="line">“<strong>name</strong>”: property name, <em>string</em></div>
<div class="line">“<strong>kind</strong>”: property kind, <code class="docutils literal notranslate"><span class="pre">&quot;numeric&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;enum&quot;</span></code> <em>or</em> <code class="docutils literal notranslate"><span class="pre">&quot;func&quot;</span></code></div>
<div class="line">“<strong>vgroup</strong>”: group of property, <em>string</em></div>
<div class="line">“<strong>title</strong>”: <em>optional</em> title, <em>string</em></div>
<div class="line">“<strong>sub-kind</strong>”: <em>optional</em> sub-kind, <em>string</em></div>
<div class="line">“<strong>render-mode</strong>”: <em>optional</em></div>
<div class="line-block">
<div class="line">comma-separated render options, <em>string</em></div>
</div>
<div class="line">“<strong>tooltip</strong>”: <em>optional</em> tooltip, <em>string</em></div>
<div class="line">“<strong>incomplete</strong>”: <em>optional</em> status is incomplete, <code class="docutils literal notranslate"><span class="pre">true</span></code></div>
<div class="line">“<strong>detailed</strong>”: <em>optional</em> transcript are in counts, <code class="docutils literal notranslate"><span class="pre">true</span></code></div>
<div class="line"><br /></div>
<div class="line"><em>in case of</em> <strong>kind</strong> = <code class="docutils literal notranslate"><span class="pre">&quot;numeric&quot;</span></code></div>
<div class="line">———————————–</div>
<div class="line">“<strong>min</strong>”: <em>optional</em> minimum value, <em>int or float</em></div>
<div class="line">“<strong>max</strong>”: <em>optional</em> maximum value, <em>int or float</em></div>
<div class="line">“<strong>counts</strong>”: <em>optional</em></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list</em></div>
<div class="line-block">
<div class="line"><strong>[0]</strong>: count of transcripts (if detailed) or variants, <em>int</em></div>
<div class="line"><strong>[1]</strong>: <em>optional</em> count of variants (if detailed), <em>int</em></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code></div>
<div class="line"><br /></div>
</div>
<div class="line"><em>in case of</em> <strong>kind</strong> = <code class="docutils literal notranslate"><span class="pre">&quot;enum&quot;</span></code></div>
<div class="line">———————————–</div>
<div class="line">“<strong>variants</strong>”:  <em>optional</em> <code class="docutils literal notranslate"><span class="pre">[</span></code> values status <em>list</em></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list</em></div>
<div class="line-block">
<div class="line"><strong>[0]</strong>: value, <em>string</em></div>
<div class="line"><strong>[1]</strong>: count of transcripts (if detailed) or variants, <em>int</em></div>
<div class="line"><strong>[2]</strong>: <em>optional</em> count of variants (if detailed), <em>int</em></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code>, …  <code class="docutils literal notranslate"><span class="pre">]</span></code></div>
<div class="line"><br /></div>
</div>
<div class="line"><em>in case of</em> <strong>kind</strong> = <code class="docutils literal notranslate"><span class="pre">&quot;func&quot;</span></code></div>
<div class="line">———————————–</div>
<div class="line">“<strong>variants</strong>”:  <code class="docutils literal notranslate"><span class="pre">null``*optional*</span> <span class="pre">``[</span></code> values status <em>list</em></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list</em></div>
<div class="line-block">
<div class="line"><strong>[0]</strong>: value, <em>string</em></div>
<div class="line"><strong>[1]</strong>: count of transcripts (if detailed) or variants, <em>int</em></div>
<div class="line"><strong>[2]</strong>: <em>optional</em> count of variants (if detailed), <em>int</em></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code>, … <code class="docutils literal notranslate"><span class="pre">]</span></code></div>
</div>
<div class="line">“<strong>err</strong>”: <em>optional</em>, error message, <em>string</em></div>
<div class="line">“<strong>rq-id</strong>:  ID of request series</div>
<div class="line">“<strong>no</strong>”: <em>optional</em> position on tree, <em>int as string</em></div>
<div class="line-block">
<div class="line"><strong>…</strong>: function environment</div>
</div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">}</span></code></div>
</div>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The data structure is used in return values of requests <a class="reference internal" href="ds_stat.html"><span class="doc">ds_stat</span></a>, <a class="reference internal" href="dtree_stat.html"><span class="doc">dtree_stat</span></a>, <a class="reference internal" href="statunits.html"><span class="doc">statunits</span></a> and <a class="reference internal" href="statfunc.html"><span class="doc">statfunc</span></a>. It represents status report for a <a class="reference internal" href="../glossary.html#term-filtering-property"><span class="xref std std-term">filtering property</span></a> applied to selected set of variants. In case of <a class="reference internal" href="../glossary.html#term-workspace"><span class="xref std std-term">workspace</span></a> selection also applies to <a class="reference internal" href="../glossary.html#term-transcript"><span class="xref std std-term">transcripts</span></a>.</p>
<p>See discussion on <a class="reference internal" href="../concepts/status_report.html"><span class="doc">Status report mechanism with delays</span></a> for understanding general principle and details.</p>
<p>In context of requests <a class="reference internal" href="ds_stat.html"><span class="doc">ds_stat</span></a>, <a class="reference internal" href="dtree_stat.html"><span class="doc">dtree_stat</span></a> status report can be incomplete. In this case the property <strong>incomplete</strong> is set and details of status (<strong>min</strong>/<strong>max</strong>/<strong>count</strong> for numeric properties and <strong>variants</strong> for enum ones) do not present in structure.</p>
<p>In complete state details of status are always set. If status reports for filtering properties (of numeric or enum type) is incomplete, use request <a class="reference internal" href="statunits.html"><span class="doc">statunits</span></a> to get them in complete state.</p>
<p>In <strong>detailed</strong> case (<a class="reference internal" href="../glossary.html#term-workspace"><span class="xref std std-term">workspace</span></a> context) the main items for counting are <a class="reference internal" href="../glossary.html#term-transcript"><span class="xref std std-term">transcripts</span></a>, so count values form pair of values in list, first one is for transcripts, second for <a class="reference internal" href="../glossary.html#term-variant"><span class="xref std std-term">variants</span></a>.
Otherwise only single variant count is provided in lists.</p>
<p>Property <strong>sub-kind</strong> can have the following values (transcipt-based subkinds are provided only in <a class="reference internal" href="../glossary.html#term-workspace"><span class="xref std std-term">workspace</span></a> context):</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>kind</strong></th>
<th class="head"><strong>sub-kind</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&quot;numeric&quot;</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">&quot;int&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;float&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;transcript-int&quot;</span></code></p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&quot;transcript-float&quot;</span></code></p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">enum</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">&quot;status&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;multi&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;transcript-status&quot;</span></code></p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&quot;transcript-multi&quot;</span></code></p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">func</span></code></td>
<td><em>type of function</em></td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="section" id="variants-for-enumerated-properties">
<h3>Variants for enumerated properties<a class="headerlink" href="#variants-for-enumerated-properties" title="Permalink to this headline">¶</a></h3>
<p>Complete status report for enumerated filtering properties contains counters for all value variants registered in dataset. So in generic case report contains multiple entries with zero counts.</p>
<p>On stage of rendering status report it is reasonable to hide entries with zero counts. Really, there is no need for user to see values that do not present in selection. So in “normal” case they are to be hidden.</p>
<p>But: rendering of status report can be done in context of existing condition, and that condition might refer variants with zero count in current selection. In this case zero count variants should be visible and actual of them should be checked.</p>
<p>Moreover: some variants referred in condition might not be registered in this concrete dataset, and the user does not need to care of that fact. So these variants should be added to list of variants <em>on the client side</em> (with zero counts).</p>
<p>And yet one problem: some variant lists have uncontrolled size. For example, it happens with property <code class="docutils literal notranslate"><span class="pre">Symbol</span></code> in almost any XL-dataset: indeed, tens of thousands known genes can appear in this list! In context of workspace, with no more than 9000 variants, this list is not more than some thousands, it is comparatively good. But even in this case: the user has problems in selection of interested variant in so huge lists.</p>
<p>It is really heavy problem for the current version of the system. In future release there should appear an effective and (probably) complex solution of this problem.</p>
</div>
<div class="section" id="functions-support">
<h3>Functions support<a class="headerlink" href="#functions-support" title="Permalink to this headline">¶</a></h3>
<p>For functions property status structure is formed in two different contexts:</p>
<ul>
<li><p class="first">requests <a class="reference internal" href="ds_stat.html"><span class="doc">ds_stat</span></a>, <a class="reference internal" href="dtree_stat.html"><span class="doc">dtree_stat</span></a> just declare placement of function between filtering properties, so requests return structure with <code class="docutils literal notranslate"><span class="pre">null</span></code> as <strong>variants</strong> and additional properties of function environment</p>
</li>
<li><p class="first">request <a class="reference internal" href="statfunc.html"><span class="doc">statfunc</span></a> returns property status with non-optional <strong>variants</strong> or <strong>err</strong> in case of error in evaluation;</p>
<blockquote>
<div><p>the client can send multiple requests of such kind in short period of time, so for purposes of request identification the property status in this case contains also:</p>
<ul class="simple">
<li>functional environment: values of all arguments,</li>
<li>value <strong>rq_id</strong> (and <strong>no</strong> in context of decision tree)</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>See <a class="reference internal" href="func_ref.html"><span class="doc">Filtering functions</span></a> for details and function reference.</p>
</div>
</div>
<div class="section" id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="ds_stat.html"><span class="doc">ds_stat</span></a></p>
<p><a class="reference internal" href="dtree_stat.html"><span class="doc">dtree_stat</span></a></p>
<p><a class="reference internal" href="statunits.html"><span class="doc">statunits</span></a></p>
<p><a class="reference internal" href="statfunc.html"><span class="doc">statfunc</span></a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="s_dtree_point.html" title="Decision Tree Point descriptor"
             >next</a> |</li>
        <li class="right" >
          <a href="s_condition.html" title="Condition descriptor"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Anfisa Development&amp;Installation Documentation v.0.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Anfisa REST API</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Copyright (c) 2019, 2020. Partners HealthCare and other members of Forome Association.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>