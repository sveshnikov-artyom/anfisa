

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>View Record structure &#8212; Anfisa Development&amp;Installation Documentation v.0.6 documentation</title>
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Condition descriptor" href="s_condition.html" />
    <link rel="prev" title="Dataset document descriptor" href="s_doc_descr.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="s_condition.html" title="Condition descriptor"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="s_doc_descr.html" title="Dataset document descriptor"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Anfisa Development&amp;Installation Documentation v.0.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Anfisa REST API</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">View Record structure</a><ul>
<li><a class="reference internal" href="#format">Format</a></li>
<li><a class="reference internal" href="#description">Description</a><ul>
<li><a class="reference internal" href="#markup-details">Markup details</a></li>
<li><a class="reference internal" href="#aspect-vep-transcripts">Aspect VEP Transcripts</a></li>
<li><a class="reference internal" href="#aspect-general">Aspect General</a></li>
<li><a class="reference internal" href="#aspect-cohorts">Aspect Cohorts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#used-in-requests">Used in requests</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="s_doc_descr.html"
                        title="previous chapter">Dataset document descriptor</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="s_condition.html"
                        title="next chapter">Condition descriptor</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/rest/s_view_rec.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="view-record-structure">
<h1>View Record structure<a class="headerlink" href="#view-record-structure" title="Permalink to this headline">¶</a></h1>
<div class="section" id="format">
<span id="index-0"></span><h2>Format<a class="headerlink" href="#format" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list</em> of aspect descriptors</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">{</span></code> <em>dictionary</em>,</div>
<div class="line-block">
<div class="line"><em>aspect descriptor common properties</em>:</div>
<div class="line">————————————–</div>
<div class="line">“<strong>name</strong>”:     aspect name, <em>string</em></div>
<div class="line">“<strong>title</strong>:     title, <em>string</em></div>
<div class="line">“<strong>kind</strong>”:     kind, <em>either</em> <code class="docutils literal notranslate"><span class="pre">&quot;norm&quot;</span></code> <em>or</em> <code class="docutils literal notranslate"><span class="pre">&quot;tech&quot;</span></code></div>
<div class="line">“<strong>type</strong>”:     type, <em>either</em> <code class="docutils literal notranslate"><span class="pre">&quot;table&quot;</span></code> <em>or</em> <code class="docutils literal notranslate"><span class="pre">&quot;pre&quot;</span></code></div>
<div class="line"><br /></div>
<div class="line"><em>in case of</em> <code class="docutils literal notranslate"><span class="pre">type=&quot;table&quot;</span></code>:</div>
<div class="line">———————————</div>
<div class="line">“<strong>columns</strong>”:  column count, <em>int</em></div>
<div class="line">“<strong>colhead</strong>”:  <code class="docutils literal notranslate"><span class="pre">null</span></code> or</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list</em> of column groups</div>
<div class="line-block">
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code></div>
<div class="line-block">
<div class="line-block">
<div class="line"><strong>[0]</strong>: title (html-escaped), <em>string</em></div>
<div class="line"><strong>[1]</strong>: count, <em>int</em></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code>, …</div>
</div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code></div>
</div>
</div>
<div class="line">“<strong>rows</strong>”:    <em>empty</em> or</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list</em> of attribute descriptors</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code></div>
<div class="line-block">
<div class="line-block">
<div class="line"><strong>[0]</strong>: attribute name (out of use), <em>string</em></div>
<div class="line"><strong>[1]</strong>: attribute title</div>
<div class="line"><strong>[2]</strong>:</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code>  <em>list</em> of cell descriptors</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code></div>
<div class="line-block">
<div class="line"><strong>[0]</strong>: content (html-escaped), <em>string</em></div>
<div class="line"><strong>[1]</strong>: cell render class name, <em>string</em></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code>, …</div>
</div>
<div class="line"><strong>[3]</strong>: (if present) tooltip. <strong>string</strong> or <code class="docutils literal notranslate"><span class="pre">undefined`</span></code></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code>, …</div>
</div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code></div>
<div class="line"><br /></div>
</div>
<div class="line"><em>in case of</em> <code class="docutils literal notranslate"><span class="pre">type=&quot;table&quot;</span></code>:</div>
<div class="line">———————————</div>
<div class="line">“<strong>content</strong>”:  pre-formatted content (VCF record), <em>string</em></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">}</span></code>, …</div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code></div>
</div>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The data structure represents complete information sufficient for render full presentation of a variant in <a class="reference internal" href="../glossary.html#term-viewing-regime"><span class="xref std std-term">Viewing regime</span></a>. See also <a class="reference internal" href="../concepts/view.html"><span class="doc">Viewing regimes</span></a></p>
<p>Full information is split onto series of <a class="reference internal" href="../glossary.html#term-aspect"><span class="xref std std-term">aspects</span></a>. Aspect usually has form of table. In simple cases table contains two columns, for title and contents of properties. One special aspect represents raw data in VCF format, so has form of preformatted text.</p>
<p>It is supposed that technical aspects (kind=”tech”) contain information in more raw form and are useful for deep studies.</p>
<p>Table aspect information is prepared for rendering tables in HTML. Information is split onto rows with fixed length. Left column is control one and contains property titles. Minimal column count is 1, it means one column for titles and one for values.</p>
<p>For complex aspect tables column structure can contain groups of columns with common title.</p>
<p>Row can have tooltip.</p>
<div class="section" id="markup-details">
<h3>Markup details<a class="headerlink" href="#markup-details" title="Permalink to this headline">¶</a></h3>
<p>Most part of aspects represent data by <code class="docutils literal notranslate"><span class="pre">&lt;table&gt;</span></code> with two columns with title and value of property.</p>
<blockquote>
<div><p>Exceptions are:</p>
<ul>
<li><p class="first">Some aspects provide multiple value columns:: Quality, VEP Transcripts, Colocated Variants and Cohorts;</p>
<blockquote>
<div><p>Value columns in aspects VEP Transcripts and Cohorts are grouped, so the table for these aspects has header title row with joined cells and titles of groups, and also contain counters for rows.</p>
</div></blockquote>
</li>
<li><p class="first">Aspect VCF represent data by <code class="docutils literal notranslate"><span class="pre">&lt;pre&gt;</span></code> in preformatted text form.</p>
</li>
</ul>
</div></blockquote>
<p>Cells in tables are marked by specific CSS classes:</p>
<blockquote>
<div><ul class="simple">
<li>title cells (in title column and in title row) are marked by class <code class="docutils literal notranslate"><span class="pre">title</span></code></li>
<li>value cells with no value are marked by class <code class="docutils literal notranslate"><span class="pre">none</span></code></li>
<li>other value cells are marked by class <code class="docutils literal notranslate"><span class="pre">norm</span></code></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="aspect-vep-transcripts">
<h3>Aspect VEP Transcripts<a class="headerlink" href="#aspect-vep-transcripts" title="Permalink to this headline">¶</a></h3>
<p>The aspect visualizes <a class="reference internal" href="../glossary.html#term-transcript"><span class="xref std std-term">transcripts</span></a> data, and transcripts are subjects of filtering, so rendering of this aspect actively interacts with the user interface in  context of <a class="reference internal" href="../glossary.html#term-ws-dataset"><span class="xref std std-term">WS-dataset</span></a>.</p>
<p>Columns representing filtered (selected) transcripts are highlighted: all cells
in these columns are marked by CSS class <code class="docutils literal notranslate"><span class="pre">hit</span></code>. (The correspondent header joined
cell is marked by class <code class="docutils literal notranslate"><span class="pre">hit</span></code> too).</p>
<p>All other cells in the table are marked by class <code class="docutils literal notranslate"><span class="pre">no-hit</span></code>.</p>
<p>In practice the users often need to hide non hit columns to have more informative
view of hit transcripts ant their data.</p>
<p>For this purpose the header title cell for column group containing all hit columns
includes empty tag <code class="docutils literal notranslate"><span class="pre">&lt;span</span> <span class="pre">id=&quot;tr-hit-span&quot;&gt;</span></code>.
Contents of this span can be rendered on the Front End
side to provide functionality of hide or show all transcript columns but hit ones.</p>
<p>In the Front End one can use call <code class="docutils literal notranslate"><span class="pre">document.getElementsByClassName(&quot;no-hit&quot;)</span></code> to
select all cells that are to hide or to show.</p>
</div>
<div class="section" id="aspect-general">
<h3>Aspect General<a class="headerlink" href="#aspect-general" title="Permalink to this headline">¶</a></h3>
<p>Contents of aspect can be changed as a result of user activity in context of
<a class="reference internal" href="../glossary.html#term-ws-dataset"><span class="xref std std-term">WS-dataset</span></a>:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>Rows “Presence in filters” and “Presence in decision trees” contain</dt>
<dd>operative information what <a class="reference internal" href="../glossary.html#term-filter"><span class="xref std std-term">filters</span></a> and
<a class="reference internal" href="../glossary.html#term-decision-tree"><span class="xref std std-term">decision trees</span></a> are positive on the variant in view</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Row “Transcripts” contain transcript short descriptions, and the variants</dt>
<dd>selected by current filter are marked by <code class="docutils literal notranslate"><span class="pre">hit</span></code> CSS class.</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="aspect-cohorts">
<h3>Aspect Cohorts<a class="headerlink" href="#aspect-cohorts" title="Permalink to this headline">¶</a></h3>
<p>The aspect Cohorts is special one and appears only for special datasets with
cohorts of patients and no exact proband sample.</p>
<p>Usually dataset with cohorts includes very many samples, and it is important to visualize only necessary cohorts and hide others.</p>
<p>For this purpose all cells representing a cohort with name <code class="docutils literal notranslate"><span class="pre">&lt;cohort</span> <span class="pre">name&gt;</span></code> are marked by class with name <code class="docutils literal notranslate"><span class="pre">cohort_&lt;cohort</span> <span class="pre">name&gt;</span></code>.</p>
<p>So the Front End can provide functionality of hide/show cohorts based on selection of cell elements with a determined CSS class.</p>
</div>
</div>
<div class="section" id="used-in-requests">
<h2>Used in requests<a class="headerlink" href="#used-in-requests" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="reccnt.html"><span class="doc">reccnt</span></a></p>
<p><a class="reference internal" href="single_cnt.html"><span class="doc">single_cnt</span></a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="s_condition.html" title="Condition descriptor"
             >next</a> |</li>
        <li class="right" >
          <a href="s_doc_descr.html" title="Dataset document descriptor"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Anfisa Development&amp;Installation Documentation v.0.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Anfisa REST API</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Copyright (c) 2019, 2020. Partners HealthCare and other members of Forome Association.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>